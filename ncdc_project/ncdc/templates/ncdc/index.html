{% extends "ncdc/base.html" %}
{% load static %}

{% block title %}Home - NCDC{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'ncdc/css/index.css' %}"> {%endblock%}

{% block content %}
<section class="hero-section">
    <div class="hero-content">
        <h1 class="hero-title">Nigerian Centre for Disease Control and Prevention</h1>
        <p class="hero-subtitle">The Nigerian Centre for Disease Control and Prevention (NCDC) is a national public
            health institute that is primarily...</p>
        <div class="hero-buttons">
            <a href="#" class="hero-button learn-more">Learn More</a>
            <a href="#" class="hero-button contact">Contact</a>
            <a href="#" class="hero-button donate">Donate</a>
        </div>
    </div>
    <div class="hero-image">
        <img src="{% static 'ncdc/images/Logo.png'%}" alt="NCDC Image">
    </div>
</section>

<section class="mission-values-section">
    <!-- Our Mission Section -->
    <div class="section mission">
        <h2 class="section-title">Our Mission</h2>
        <p class="section-description">The Nigerian Centre for Disease Control and Prevention (NCDC) is the national
            public health institute responsible for leading the prevention, detection, and control of communicable
            diseases in Nigeria</p>
        <div class="section-buttons">
            <a href="#" class="section-button join">Join Us</a>
            <a href="#" class="section-button volunteer">Volunteer</a>
        </div>
    </div>

    <!-- Our Values Section -->
    <div class="section values">
        <h3 class="approach-title">Our Approach</h3>
        <h2 class="section-title">Our Values</h2>
        <p class="section-description">At the NCDC, we are committed to promoting a healthier Nigeria through
            comprehensive disease prevention and control strategies. Our approach is evidence-based, data-driven, and
            focused on collaborative partnerships.</p>
        <a href="#" class="section-button discover-more">Discover More</a>
    </div>
</section>

<section class="impact-section">
    <h2 class="impact-title">Our Impact</h2>
    <div class="slideshow-container">
        <div class="slideshow-slide fade">
            <img src="{% static 'images/impact1.png' %}" alt="Impact Image 1">
        </div>
        <div class="slideshow-slide fade">
            <img src="{% static 'images/impact2.png' %}" alt="Impact Image 2">
        </div>
        <div class="slideshow-slide fade">
            <img src="{% static 'images/impact3.png' %}" alt="Impact Image 3">
        </div>
        <div class="slideshow-slide fade">
            <img src="{% static 'images/impact4.png' %}" alt="Impact Image 4">
        </div>
        <div class="slideshow-slide fade">
            <img src="{% static 'images/impact5.png' %}" alt="Impact Image 5">
        </div>
    </div>
</section>

<section class="partnerships">
    <div class="partner_side_image">
        <img src="{% static 'ncdc/images/Image 7.png'%}" alt="img">
    </div>
    <div class="our_partners">
        <div class="partner_parastatals">
            <h2 class="partners-p-title">Host Ministry and Partner Parastatals</h2>
            <div class="slideshow-container-parastatals">
                <div class="slideshow-slide1 fade">
                    <img src="{% static 'images/impact1.png' %}" alt="Impact Image 1">
                </div>
                <div class="slideshow-slide1 fade">
                    <img src="{% static 'images/impact2.png' %}" alt="Impact Image 2">
                </div>
                <div class="slideshow-slide1 fade">
                    <img src="{% static 'images/impact3.png' %}" alt="Impact Image 3">
                </div>
                <div class="slideshow-slide1 fade">
                    <img src="{% static 'images/impact4.png' %}" alt="Impact Image 4">
                </div>
                <div class="slideshow-slide1 fade">
                    <img src="{% static 'images/impact5.png' %}" alt="Impact Image 5">
                </div>
            </div>
        </div>
        <div class="partners">
            <h2 class="partners-title">Our Partners</h2>
            <div class="slideshow-container-partners">
                <div class="slideshow-slide2 fade">
                    <img src="{% static 'images/impact1.png' %}" alt="Impact Image 1">
                </div>
                <div class="slideshow-slide2 fade">
                    <img src="{% static 'images/impact2.png' %}" alt="Impact Image 2">
                </div>
                <div class="slideshow-slide2 fade">
                    <img src="{% static 'images/impact3.png' %}" alt="Impact Image 3">
                </div>
                <div class="slideshow-slide2 fade">
                    <img src="{% static 'images/impact4.png' %}" alt="Impact Image 4">
                </div>
                <div class="slideshow-slide2 fade">
                    <img src="{% static 'images/impact5.png' %}" alt="Impact Image 5">
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    document.addEventListener("DOMContentLoaded", () => {
    const menuToggle = document.querySelector(".menu-toggle");
    const navMenu = document.querySelector(".nav-menu");

    menuToggle.addEventListener("click", () => {
        navMenu.classList.toggle("active");
        });
    });

    let slideIndex = 0;
    showSlides();

    function showSlides() {
        const slides = document.getElementsByClassName("slideshow-slide");
        for (let i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        slideIndex++;
        if (slideIndex > slides.length) {
            slideIndex = 1;
        }
        slides[slideIndex - 1].style.display = "block";
        setTimeout(showSlides, 4000); // Change slide every 4 seconds
    }


    //second slideshow
    let slideIndex1 = 0;
    let slidesToShow1 = getSlidesToShow(); // Initial setting based on screen size

    // Function to get the number of slides to show based on screen width
    function getSlidesToShow() {
        return window.matchMedia("(max-width: 768px)").matches ? 1 : 3;
    }

    // Update slidesToShow on window resize
    window.addEventListener("resize", () => {
        slidesToShow1 = getSlidesToShow();
        slideIndex1 = 0; // Reset the slide index on resize
        showSlides1();
    });

    function showSlides1() {
        const slides1 = document.getElementsByClassName("slideshow-slide1");
        const totalSlides1 = slides1.length;

        // Hide all slides initially
        for (let i = 0; i < totalSlides1; i++) {
            slides1[i].style.display = "none";
        }

        // Display the required number of slides based on screen size
        for (let j = 0; j < slidesToShow1; j++) {
            const currentIndex = (slideIndex1 + j) % totalSlides1;
            slides1[currentIndex].style.display = "block";
        }

        // Move to the next set of slides
        slideIndex1 = (slideIndex1 + slidesToShow1) % totalSlides1;

        // Change slides every 4 seconds
        setTimeout(showSlides, 4000);
    }

    // Initialize slideshow
    showSlides1();


    let partnerSlideIndex = 0;
let partnerSlidesToShow = getPartnerSlidesToShow(); // Set initial value based on screen width

// Function to determine the number of slides to show based on screen width
function getPartnerSlidesToShow() {
    return window.matchMedia("(max-width: 768px)").matches ? 1 : 3;
}

// Update slidesToShow on window resize
window.addEventListener("resize", () => {
    partnerSlidesToShow = getPartnerSlidesToShow();
    partnerSlideIndex = 0; // Reset the slide index on resize
    showPartnerSlides();
});

function showPartnerSlides() {
    const slides = document.getElementsByClassName("slideshow-slide2");
    const totalSlides = slides.length;

    // Hide all slides initially
    for (let i = 0; i < totalSlides; i++) {
        slides[i].style.display = "none";
    }

    // Display the required number of slides based on screen size
    for (let j = 0; j < partnerSlidesToShow; j++) {
        const currentIndex = (partnerSlideIndex + j) % totalSlides;
        slides[currentIndex].style.display = "block";
    }

    // Move to the next set of slides
    partnerSlideIndex = (partnerSlideIndex + partnerSlidesToShow) % totalSlides;

    // Change slides every 4 seconds
    setTimeout(showPartnerSlides, 4000);
}

// Initialize the slideshow
showPartnerSlides();


</script>

{% endblock %}

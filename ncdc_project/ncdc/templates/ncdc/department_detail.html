{% extends "ncdc/base.html" %}
{% load static %}
{% block title %}{{ department.name }} - NCDC{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'ncdc/css/department_detail.css' %}">
{% endblock %}
{% block content %}
<section class="department-detail-section">
    <div class="department-header">
        <img src="{% if department.image %}{{ department.image.url }}{% else %}{% static 'path/to/default/image.jpg' %}{% endif %}">
        <h1>{{ department.name }}</h1>
    </div>
    <div class="department-info">
        <h2>About {{ department.name }}</h2>
        <p>{{ department.description }}</p>
    </div>
    <div class="director-info">
        <h2>Head of Department</h2>
        {% if department.head_of_department %}
        <img src="{{ department.head_of_department.image.url }}" alt="{{ department.head_of_department.name }}">
        <p><strong>{{ department.head_of_department.name }}</strong></p>
        <p>{{ department.head_of_department.description }}</p>
        {% else %}
        <p>No head of department assigned yet.</p>
        {% endif %}
    </div>
    <div class="department-projects">
        <h2>Projects</h2>
        {% for project in projects %}
        <div class="project">
            <h3>{{ project.title }}</h3>
            <p>{{ project.description }}</p>
        </div>
        {% empty %}
        <p>No projects available.</p>
        {% endfor %}
    </div>
    <div class="department-posts">
        <h2>Posts</h2>
        {% for post in posts %}
        <div class="post">
            <h3>{{ post.title }}</h3>
            <p>{{ post.content }}</p>
            <small>Published on {{ post.created_at|date:"F j, Y" }}</small>
        </div>
        {% empty %}
        <p>No posts available.</p>
        {% endfor %}
    </div>
</section>
{% endblock %}
